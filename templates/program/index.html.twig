{% extends 'base.html.twig' %}
{% block title %}
	Series
{% endblock %}
{% block body %}
	<div class="container mt-4">
		<h1>Series</h1>
		{{ form_start(form) }}
		{{ form_widget(form) }}
		<button class="btn btn-primary mt-3">Search</button>
		{{ form_end(form) }}
		{% for program in programs %}
			<div class="mt-4">
				<button type="button" class="btn disabled">Serie nÂ°
					{{ program.id }}</button>
				<button type="button" class="btn disabled">Category :
					{{ program.category.name }}</button>
				<button type="button" class="btn disabled">Country :
					{{ program.country }}</button>
				<button type="button" class="btn disabled">Year :
					{{ program.year }}</button>
				{% if app.user %}
					<button class="btn disabled">Watchlist :
						<i class="bi {{app.user.isInWatchlist(program) ? 'bi-heart-fill' : 'bi-heart' }}"></i>
					</button>
				{% endif %}
			</div>
			<div class="mt-4">
				<h2>Title :
					{{ program.title }}</h2>
			</div>
			<table class="table table-hover mt-4">
				<thead>
					<tr>
						<th scope="col">Synopsis</th>
					</tr>
				</thead>
				<tbody>
					<tr class="table">
						<td>{{ program.synopsis }}</td>
						<td></td>
					</tr>
				</tbody>
			</table>
			<div class="row">
				<div class="col-md-auto">
					<a href="{{ path("program_show", { slug: program.slug }) }}" class="btn btn-primary">Voir la fiche</a>
					{% if is_granted("ROLE_ADMIN") %}
						<a href="{{ path("program_edit", { slug: program.slug }) }}" class="btn btn-primary mx-3">Modifier</a>
					{% endif %}
				</div>
				<div class="col-md-auto"></div>
				<hr class="hr mt-3"/>
			{% else %}
				No series found
			{% endfor %}
		</div>
	{% endblock %}
